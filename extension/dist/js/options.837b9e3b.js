(function(t){function e(e){for(var r,s,c=e[0],o=e[1],u=e[2],f=0,h=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={options:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("d091")},4707:function(t,e,n){},"4b9f":function(t,e,n){"use strict";var r=n("ec35"),i=n.n(r);i.a},"8c25":function(t,e,n){"use strict";var r=n("4707"),i=n.n(r);i.a},bccf:function(t,e,n){},d091:function(t,e,n){"use strict";n.r(e);n("055b");var r=n("160c"),i=(n("1c85"),n("ccb9")),a=(n("e1f5"),n("5efb")),s=(n("805a"),n("0c63")),c=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._m(0),n("div",{staticClass:"tab-wrapp"},[n("a-tabs",{staticClass:"tabs cus-tabs",attrs:{type:"editable-card",defaultActiveKey:"defaultActiveKey",hideAdd:!0,tabBarStyle:t.tabBarStyle,tabBarGutter:0,tabPosition:"left"},scopedSlots:t._u([{key:"tabBarExtraContent",fn:function(){return[n("div",{staticClass:"button"},[n("a-button",{attrs:{type:"primary",size:"small",shape:"circle",icon:"plus"},on:{click:t.addOne}})],1)]},proxy:!0}])},t._l(t.tabs,(function(e,r){return n("a-tab-pane",{key:e.id,staticClass:"tabs-content",attrs:{closable:!1},scopedSlots:t._u([{key:"tab",fn:function(){return[n("div",{staticClass:"tabs-nav",on:{mouseenter:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[n("div",{staticClass:"nav-title"},[n("a-switch",{attrs:{size:"small"},on:{click:function(n){return t.switchProxy(e)}},model:{value:e.actived,callback:function(n){t.$set(e,"actived",n)},expression:"item.actived"}}),e.titleEditing?n("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],ref:"input-"+e.id,refInFor:!0,staticClass:"text text-ellipsis",attrs:{title:e.title},domProps:{value:e.title},on:{blur:function(t){e.titleEditing=!1},keyup:function(t){if(!t.type.indexOf("key")&&13!==t.keyCode)return null;e.titleEditing=!1},input:function(n){n.target.composing||t.$set(e,"title",n.target.value)}}}):n("span",{staticClass:"text text-ellipsis",attrs:{title:e.title}},[t._v(t._s(e.title))])],1),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.hover,expression:"item.hover"}],staticClass:"nav-icon fade-enter-active",attrs:{type:"edit"},on:{click:function(n){return n.stopPropagation(),t.editTitle(e)}}}),n("a-icon",{directives:[{name:"show",rawName:"v-show",value:e.hover&&t.closable,expression:"item.hover && closable"}],staticClass:"nav-icon fade-enter-active",attrs:{type:"close"},on:{click:function(e){return e.stopPropagation(),t.delteOne(r)}}})],1)]},proxy:!0}],null,!0)},[n("host-editer",{attrs:{height:"600px",content:e.content}})],1)})),1)],1)])},u=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("a",{attrs:{href:"#"}},[n("i",[t._v("Switch Proxy")])])])}],l=(n("4de4"),n("4160"),n("a434"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",style:{height:t.height,width:t.width}},[n("div",{ref:"editer",staticClass:"editer",attrs:{contenteditable:""}},[t._v(" "+t._s(t.content)+" ")]),n("div",{staticClass:"tool"})])}),f=[],h=n("d4ec"),d=n("bee2");n("a4d3"),n("99af"),n("0d03"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("2909"),n("ade3");var p=function(t){var e=Object.prototype.toString.call(t);return e.replace(/\[object (.)(.+)\]/,(function(t,e,n){return"".concat(e.toLocaleLowerCase()).concat(n)}))},v=function(t){return"array"===p(t)},y=function(t){return"object"===p(t)},g=function(t){return"number"===p(t)},m=function(t){return"string"===p(t)},b=function(t){return"function"===p(t)},x=function(t){return"promise"===p(t)},k=function(t){return"blob"===p(t)},_=function(t){return"regexp"===p(t)},O={isArray:v,isNumber:g,isString:m,isRegexp:_,isObject:y,isFunction:b,isBlob:k,isPromise:x},S=(n("c975"),n("a15b"),n("466d"),n("1276"),n("4d63"),function(){function t(e){if(Object(h["a"])(this,t),!O.isArray(e))return console.error(new Error("params must be Array.<Object>")),!1;this.config={rules:e||this.getDefaultRules()},this.normalize()}return Object(d["a"])(t,[{key:"normalize",value:function(){var t=this;this.rules=[],this.config.rules.forEach((function(e,n){var r=e.key,i=e.test,a=e.regexp;t.rules.push({key:r||n,test:t.createTest(i),regexp:t.createRegexp(a)})}))}},{key:"getDefaultRules",value:function(){return[{key:"trim",test:function(){return!0},regexp:"^\\s*"}]}},{key:"createTest",value:function(t){if(!t)return function(){return!0};var e;if(O.isFunction(t))e=t;else if(O.isRegexp(t))e=function(e){return t.test(e)};else{if(!O.isString(t))throw new Error("rules params test must be {Function|Regexp|String}");var n=this.createRegexp(t);e=function(t){return n.test(t)}}return e}},{key:"createRegexp",value:function(t){var e;if(O.isString(t))try{e=new RegExp(t)}catch(n){console.error(n)}else{if(!O.isRegexp(t))throw new Error("rules params regexp must be {String|Regexp}");e=t}return e}},{key:"match",value:function(t){var e=this,n={input:t,plainText:!0,matches:{}};return this.rules.forEach((function(r){var i=r.test,a=r.regexp,s=r.key;if(i(t)){var c=e._match(t,a);c&&(n.matches[s]=c,n.plainText=!1)}})),n}},{key:"_match",value:function(t,e){var n=t.match(e);if(n){var r=[],i=t,a=0,s=0;return n.shift(),n.forEach((function(t){a=s+i.indexOf(t),s=a+t.length-1,i=i.substr(s+1),r.push({start:a,end:s,match:t}),a=++s})),r}return!1}}]),t}()),w=S,j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;Object(h["a"])(this,t),this.text="",this.context=n,this.tagName=e.tagName||"p",this.anchorText=e.anchorText||"{|}",this.style=e.styles||this._getDefaultStyle(),this.rules=e.rules||this._getDefaultRules(),this.initial(),this.clean()}return Object(d["a"])(t,[{key:"initial",value:function(){this.matcher=new w(this.rules)}},{key:"addRule",value:function(t){this.rules.push(t),this.matcher=new w(this.rules)}},{key:"parse",value:function(t){var e=this;this.text=t,this.clean();var n=this._formatArray(t.split(/\n/));n.forEach((function(t){var n={},r=e.anchorText,i=t.indexOf(r);-1!==i&&(t=t.replace(r,""),n.anchorIndex=i),Object.assign(n,e.matcher.match(t)),e._replace(n),e._addLine(n)}))}},{key:"_addLine",value:function(t){var e="h-parser-l-".concat(this.linesParseData.length),n=Object.assign({id:e,input:"",replace:"",el:null},t),r=this.context.createElement(this.tagName);r.innerHTML=n.replace,r.id=e,r.hpLine=!0,n.el=r,r.style.cssText="margin: 0; padding: 0 0 5px 0; letter-spacing: 1px;",this.linesParseData.push(n)}},{key:"_replace",value:function(t){var e=this,n=t.input,r=this._string2Array(n),i=t.matches;Object.keys(i).forEach((function(t){var n=i[t],a=e.rules.filter((function(e){return e.key===t}))[0],s=a.setStyle||function(){return""};n.forEach((function(t,n){var i=t.start,a=t.end,c=t.match,o=s(n,c)||"";e._insertTagString({start:i,end:a,style:o,textArr:r})}))}));var a=t.anchorIndex;(a||0===a)&&r.splice(a,0,this._createTagString({className:"anchor"})),t.replace=r.join("")}},{key:"_insertTagString",value:function(t){var e=t.textArr,n=t.start,r=t.end,i=t.style;if(n===r){var a=this._formatValue(e[n]);e.splice(n,1,this._createTagString({style:i,text:a}))}else{var s=this._formatValue(e[n]),c=this._formatValue(e[r]);e.splice(n,1,this._createTagString({style:i,text:s,type:"left"})),e.splice(r,1,this._createTagString({text:c,type:"right"}))}}},{key:"_createTagString",value:function(t){var e=t.style,n=t.className,r=t.text,i=void 0===r?"":r,a=t.tagName,s=void 0===a?"span":a,c=t.type,o=void 0===c?"all":c,u=n?'class="'.concat(n,'" '):"",l="".concat(u,'style="display: inline-block; ').concat(e,'"');return"all"===o?"<".concat(s," ").concat(l,">").concat(i,"</").concat(s,">"):"left"===o?"<".concat(s," ").concat(l,">").concat(i):"right"===o?"".concat(i,"</").concat(s,">"):void 0}},{key:"_formatValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.replace(/\s/g,"&nbsp;")}},{key:"_string2Array",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.split("");return this._formatArray(n,(function(e){return t._formatValue(e)}))}},{key:"_formatArray",value:function(t,e){var n=[];return t.forEach((function(t){t&&n.push(e?e(t):t)})),n}},{key:"_getDefaultStyle",value:function(){return{ip:"color: red",domain:"color: green",comments:"color: #ccc"}}},{key:"_getDefaultRules",value:function(){var t=this,e="^\\s*",n="((?:\\d{1,3}\\.){3}\\d{1,3})(?:\\s+)([a-z]+(?:\\.[a-z])*)",r="(#+.*)";return[{key:"comments",regexp:r,setStyle:function(){return t.style.comments}},{key:"host",test:"".concat(e).concat(n),regexp:n,setStyle:function(e,n){return 0===e?t.style.ip:1===e?t.style.domain:void 0}}]}},{key:"_getDefaultLineData",value:function(){return{textArr:[],el:null}}},{key:"findByEl",value:function(t){if(!t||!t.nodeType||!t.parentNode)return null;var e=t.parentNode;return e.spLine?this.linesParseData.filter((function(t){return t.id===e.id}))[0]:this.findByEl(e)}},{key:"findById",value:function(t){return this.linesParseData.filter((function(e){return e.id===t}))[0]}},{key:"find",value:function(t){return this.linesParseData.filter((function(e){return e.input===t}))}},{key:"getFragment",value:function(){var t=this.context.createDocumentFragment();return this.linesParseData.forEach((function(e){return t.appendChild(e.el)})),t}},{key:"toString",value:function(){var t=[];return this.linesParseData.forEach((function(e,n){return t.push("".concat(n>0?"\n":"").concat(e.replace))})),t.join("")}},{key:"clean",value:function(){this.linesParseData=[]}}]),t}(),E=j,P=function(){function t(e){Object(h["a"])(this,t);var n=e.el,r=e.config,i=e.handler;this.el=n,this.handler=i,this.config=Object.assign({childList:!0,characterData:!0,subtree:!0},r),this.initial()}return Object(d["a"])(t,[{key:"initial",value:function(){this.observer=new MutationObserver(this.handler);this.connect()}},{key:"connect",value:function(){var t=this.el,e=this.config;this.observer.observe(t,e)}},{key:"disconnect",value:function(){this.observer.disconnect()}}]),t}(),T=function t(e){if(!e||!e.nodeType)return e;var n=e.lastChild;return n?t(n):e},C={data:function(){return{parser:null}},props:{width:{type:String,default:"580px"},height:{type:String,default:"600px"},ipStylt:{type:String,default:"color: #1890ff"},domainStylt:{type:String,default:"color: green"},commentsStylt:{type:String,default:"color: #ccc"},content:{type:String,default:"# switch proxy"}},computed:{editer:function(){return this.$refs.editer}},mounted:function(){this.mutationObserver=new P({handler:this.textParser,el:this.editer}),this.initialParser(),this.textParser()},destory:function(){this.mutationObserver.disconnect(),this.mutationObserver=null},methods:{initialParser:function(){this.parser=new E({styles:{ip:"color: #1890ff",domain:"color: green",comments:"color: #ccc"}})},textParser:function(){document.execCommand("insertText",!0,"{|}");var t=this.editer,e=t.innerText,n=this.parser;this.mutationObserver.disconnect(),n.parse(e),t.innerHTML="",t.appendChild(n.getFragment()),this.setRange(),this.mutationObserver.connect()},setRange:function(){var t=this.editer.querySelector(".anchor");if(t){var e=t.previousSibling||t.nextSibling||t,n=T(e),r=!!t.previousSibling,i=r&&n.length||0,a=document.getSelection(),s=document.createRange();s.setStart(n,i),a.removeAllRanges(),a.addRange(s),t.remove()}},updateConfig:function(){}}},D=C,R=(n("8c25"),n("2877")),A=Object(R["a"])(D,l,f,!1,null,"dd9a85c2",null),N=A.exports,L={name:"Options",data:function(){return{tabs:[]}},computed:{defaultActiveKey:function(){return this.tabs.filter((function(t){return t.actived}))[0].key||this.tabs[0].key},tabStyle:function(){return{height:"100px"}},tabBarStyle:function(){return{background:"#fafafa",display:"flex",flexDirection:"column",width:"220px"}},closable:function(){return this.tabs.length>1}},mounted:function(){this.addOne({title:"dev"}),this.addOne({title:"test"}),this.addOne({title:"prod"})},components:{HostEditer:N},methods:{switchProxy:function(t){var e=t.id,n=t.actived;n&&this.tabs.forEach((function(t){t.id!==e&&(t.actived=!1)}))},editTitle:function(t){var e=this;t.titleEditing=!0,this.$nextTick((function(){var n=e.$refs["input-".concat(t.id)][0];n&&n.focus()}))},addOne:function(t){var e=this.addOne.count=(this.addOne.count||0)+1,n={id:"sp-tab-key-".concat(e),title:"your name",content:"# switch proxy \n 127.0.0.1 localhost",actived:!1,hover:!1,titleEditing:!1,contentEditing:!1};Object.assign(n,t),this.tabs.push(n)},delteOne:function(t){this.tabs.splice(t,1)}}},B=L,$=(n("4b9f"),Object(R["a"])(B,o,u,!1,null,null,null)),F=$.exports;n("bccf");c["a"].config.productionTip=!1,c["a"].use(s["a"]),c["a"].use(a["a"]),c["a"].use(i["a"]),c["a"].use(r["a"]),new c["a"]({render:function(t){return t(F)}}).$mount("#app")},ec35:function(t,e,n){}});
//# sourceMappingURL=options.837b9e3b.js.map